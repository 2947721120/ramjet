!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.ramjet=t()}(this,function(){"use strict";function e(){document.body.appendChild(R),T=!0}function t(e,n){var o=e.cloneNode(),i=void 0,r=void 0,a=void 0;if(1===e.nodeType){if(i=window.getComputedStyle(e),w.forEach(function(e){o.style[e]=i[e]}),n)return o;for(r=e.childNodes.length,a=0;r>a;a+=1)o.appendChild(t(e.childNodes[a]))}return o}function n(e,n,o){var i=e.namespaceURI===b,r=e.getBoundingClientRect(),a=r.left,s=r.right,l=r.top,d=r.bottom,u=window.getComputedStyle(e),c=t(e,o),f={node:e,clone:c,isSvg:i,cx:(a+s)/2,cy:(l+d)/2,width:s-a,height:d-l,transform:null,borderRadius:null};if(i){var m=e.getScreenCTM();f.transform="matrix("+[m.a,m.b,m.c,m.d,m.e,m.f].join(",")+")",f.borderRadius=[0,0,0,0],R.appendChild(c)}else{if(n)c.style.position="fixed",c.style.top=l-parseInt(u.marginTop,10)+"px",c.style.left=a-parseInt(u.marginLeft,10)+"px";else{var p=e.offsetParent;if(null===p||p===document.body){var y=document.documentElement;c.style.position="absolute",c.style.top=l+window.pageYOffset-y.clientTop-parseInt(u.marginTop,10)+"px",c.style.left=a+window.pageXOffset-y.clientLeft-parseInt(u.marginLeft,10)+"px"}else{var h=window.getComputedStyle(p),g=p.getBoundingClientRect();c.style.position="absolute",c.style.top=l-parseInt(u.marginTop,10)-(g.top-parseInt(h.marginTop,10))+"px",c.style.left=a-parseInt(u.marginLeft,10)-(g.left-parseInt(h.marginLeft,10))+"px"}}f.transform="",f.borderRadius=[parseFloat(u.borderTopLeftRadius),parseFloat(u.borderTopRightRadius),parseFloat(u.borderBottomRightRadius),parseFloat(u.borderBottomLeftRadius)],e.parentNode.appendChild(c)}return f}function o(e){e.__ramjetOriginalTransition__=e.style.transition,e.style.transition="",e.style.opacity=0}function i(e){e.style.transition="",e.style.opacity=1,e.__ramjetOriginalTransition__&&setTimeout(function(){e.style.transition=e.__ramjetOriginalTransition__})}function r(e){for(;null!==e;){if("fixed"===window.getComputedStyle(e).position)return!0;e=e.namespaceURI===b?e.parentNode:e.offsetParent}return!1}function a(e,t,n,o,i,r,a,s){var l=e?"translate("+t+" "+n+") scale("+(1+s*r)+" "+(1+s*a)+") translate("+-t+" "+-n+") translate("+s*o+" "+s*i+")":"translate("+s*o+"px,"+s*i+"px) scale("+(1+s*r)+","+(1+s*a)+")";return l}function s(e,t,n,o,i){var r=1+i*n,a=1+i*o;return e.map(function(e,n){var o=t[n],s=(e+i*(o-e))/r,l=(e+i*(o-e))/a;return""+s+"px "+l+"px"})}function l(e){return e}function d(e){return Math.pow(e,3)}function u(e){return Math.pow(e-1,3)+1}function c(e){return(e/=.5)<1?.5*Math.pow(e,3):.5*(Math.pow(e-2,3)+2)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){e.style.borderTopLeftRadius=t[0],e.style.borderTopRightRadius=t[1],e.style.borderBottomRightRadius=t[2],e.style.borderBottomLeftRadius=t[3]}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e){var t=document.createElement("style");t.type="text/css";var n=document.getElementsByTagName("head")[0],o=t.styleSheet;return o?o.cssText=e:t.innerHTML=e,n.appendChild(t),function(){return n.removeChild(t)}}function h(e,t,n){function o(n,o){var i=e.cx+r*o,l=e.cy+a*o,f=C(e.borderRadius,t.borderRadius,s,d,o),m=C(t.borderRadius,e.borderRadius,u,c,1-o),h=x(!1,i,l,r,a,s,d,o)+" "+e.transform,g=x(!1,i,l,-r,-a,u,c,1-o)+" "+t.transform;p.push("\n			"+n+"% {\n				opacity: "+(1-o)+";\n				border-top-left-radius: "+f[0]+";\n				border-top-right-radius: "+f[1]+";\n				border-bottom-right-radius: "+f[2]+";\n				border-bottom-left-radius: "+f[3]+";\n				"+N+": "+h+";\n			}"),y.push("\n			"+n+"% {\n				opacity: "+o+";\n				border-top-left-radius: "+m[0]+";\n				border-top-right-radius: "+m[1]+";\n				border-bottom-right-radius: "+m[2]+";\n				border-bottom-left-radius: "+m[3]+";\n				"+N+": "+g+";\n			}")}var i,r=t.cx-e.cx,a=t.cy-e.cy,s=t.width/e.width-1,d=t.height/e.height-1,u=e.width/t.width-1,c=e.height/t.height-1,f=n.easing||l,m=n.duration/50,p=[],y=[];for(i=0;m>i;i+=1){var h=100*(i/m),g=f(i/m);o(h,g)}return o(100,1),p=p.join("\n"),y=y.join("\n"),{fromKeyframes:p,toKeyframes:y}}var g=["length","parentRule"],v=void 0;v="undefined"!=typeof CSS2Properties?Object.keys(CSS2Properties.prototype):Object.keys(document.createElement("div").style).filter(function(e){return!~g.indexOf(e)});var w=v,b="http://www.w3.org/2000/svg",R=document.createElementNS(b,"svg");R.style.position="fixed",R.style.top=R.style.left="0",R.style.width=R.style.height="100%",R.style.overflow="visible",R.style.pointerEvents="none",R.setAttribute("class","mogrify-svg");var T=!1,x=a,C=s,S=window.requestAnimationFrame||window.webkitRequestAnimationFrame||function(e){return setTimeout(e,16)},k=S,A=function(e,t,n){function o(){var l=Date.now(),f=l-c;if(f>p)return e.clone.parentNode.removeChild(e.clone),t.clone.parentNode.removeChild(t.clone),void(n.done&&n.done());var h=y(f/p);e.clone.style.opacity=1-h,t.clone.style.opacity=h;var g=C(e.borderRadius,t.borderRadius,a,s,h),v=C(t.borderRadius,e.borderRadius,d,u,1-h);m(e.clone,g),m(t.clone,v);var w=e.cx+i*h,b=e.cy+r*h,R=x(e.isSvg,w,b,i,r,a,s,h)+" "+e.transform,T=x(t.isSvg,w,b,-i,-r,d,u,1-h)+" "+t.transform;e.isSvg?e.clone.setAttribute("transform",R):e.clone.style.transform=e.clone.style.webkitTransform=e.clone.style.msTransform=R,t.isSvg?t.clone.setAttribute("transform",T):t.clone.style.transform=t.clone.style.webkitTransform=t.clone.style.msTransform=T,k(o)}f(this,A);var i=t.cx-e.cx,r=t.cy-e.cy,a=t.width/e.width-1,s=t.height/e.height-1,d=e.width/t.width-1,u=e.height/t.height-1,c=Date.now(),p=n.duration||400,y=n.easing||l;o()},E=A,I=document.createElement("div"),_=!0,N=void 0,j=void 0,L=void 0,O=void 0,F=void 0,M=void 0,B=void 0,D=void 0,K=!window.ActiveXObject&&"ActiveXObject"in window;!K&&("transform"in I.style||"webkitTransform"in I.style)&&("animation"in I.style||"webkitAnimation"in I.style)?(_=!0,N="transform"in I.style?"transform":"-webkit-transform","animation"in I.style?(j="@keyframes",L="animationDirection",O="animationDuration",F="animationIterationCount",M="animationName",B="animationTimingFunction",D="animationend"):(j="@-webkit-keyframes",L="webkitAnimationDirection",O="webkitAnimationDuration",F="webkitAnimationIterationCount",M="webkitAnimationName",B="webkitAnimationTimingFunction",D="webkitAnimationEnd")):_=!1;var P=function(e,t,n){function o(){c&&f&&(e.clone.parentNode.removeChild(e.clone),t.clone.parentNode.removeChild(t.clone),n.done&&n.done(),u())}p(this,P);var i=h(e,t,n),r=i.fromKeyframes,a=i.toKeyframes,s="_"+~~(1e6*Math.random()),l="_"+~~(1e6*Math.random()),d=""+j+" "+s+" { "+r+" } "+j+" "+l+" { "+a+" }",u=y(d);e.clone.style[L]="alternate",e.clone.style[O]=""+n.duration/1e3+"s",e.clone.style[F]=1,e.clone.style[M]=s,e.clone.style[B]="linear",t.clone.style[L]="alternate",t.clone.style[O]=""+n.duration/1e3+"s",t.clone.style[F]=1,t.clone.style[M]=l,t.clone.style[B]="linear";var c=void 0,f=void 0;e.clone.addEventListener(D,function(){c=!0,o()}),t.clone.addEventListener(D,function(){f=!0,o()})},X=P,q={transform:function(t,o){var i=void 0===arguments[2]?{}:arguments[2];"function"==typeof i&&(i={done:i}),"duration"in i||(i.duration=400);var a=!!i.shallowClone,s=r(o),l=n(t,s,a),d=n(o,s,a);return(l.isSvg||d.isSvg&&!T)&&e(),!_||i.useTimer||l.isSvg||d.isSvg?new E(l,d,i):new X(l,d,i)},hide:function(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];t.forEach(o)},show:function(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];t.forEach(i)},linear:l,easeIn:d,easeOut:u,easeInOut:c};return q});
