!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.ramjet=t()}(this,function(){"use strict";function e(e){return e}function t(e){return Math.pow(e,3)}function n(e){return Math.pow(e-1,3)+1}function o(e){return(e/=.5)<1?.5*Math.pow(e,3):.5*(Math.pow(e-2,3)+2)}function i(){document.body.appendChild(w),T=!0}function r(e,t,n){var o=n?n(e,t):e.cloneNode();if("undefined"!=typeof o){var i=void 0,a=void 0,s=void 0,d=void 0;if(1===e.nodeType)for(i=window.getComputedStyle(e),g.forEach(function(e){o.style[e]=i[e]}),a=e.childNodes.length,s=0;a>s;s+=1)d=r(e.childNodes[s],t+1,n),d&&o.appendChild(d);return o}}function a(e,t,n,o){var i=e.namespaceURI===b,a=e.getBoundingClientRect(),s=a.left,d=a.right,l=a.top,c=a.bottom,u=window.getComputedStyle(e),f=r(e,0,n),m={node:e,clone:f,isSvg:i,cx:(s+d)/2,cy:(l+c)/2,width:d-s,height:c-l,transform:null,borderRadius:null};if(i){var p=e.getScreenCTM();m.transform="matrix("+[p.a,p.b,p.c,p.d,p.e,p.f].join(",")+")",m.borderRadius=[0,0,0,0],w.appendChild(f)}else{if(t)f.style.position="fixed",f.style.top=l-parseInt(u.marginTop,10)+"px",f.style.left=s-parseInt(u.marginLeft,10)+"px";else{var y=e.offsetParent;if(null===y||y===document.body||o){var h=document.documentElement;f.style.position="absolute",f.style.top=l+window.pageYOffset-h.clientTop-parseInt(u.marginTop,10)+"px",f.style.left=s+window.pageXOffset-h.clientLeft-parseInt(u.marginLeft,10)+"px"}else{var v=window.getComputedStyle(y),g=y.getBoundingClientRect();f.style.position="absolute",f.style.top=l-parseInt(u.marginTop,10)-(g.top-parseInt(v.marginTop,10))+"px",f.style.left=s-parseInt(u.marginLeft,10)-(g.left-parseInt(v.marginLeft,10))+"px"}}m.transform="",m.borderRadius=[parseFloat(u.borderTopLeftRadius),parseFloat(u.borderTopRightRadius),parseFloat(u.borderBottomRightRadius),parseFloat(u.borderBottomLeftRadius)],o?document.body.appendChild(f):e.parentNode.appendChild(f)}return m}function s(e){e.__ramjetOriginalTransition__=e.style.transition,e.style.transition="",e.style.opacity=0}function d(e){e.style.transition="",e.style.opacity=1,e.__ramjetOriginalTransition__&&setTimeout(function(){e.style.transition=e.__ramjetOriginalTransition__})}function l(e){for(;null!==e;){if("fixed"===window.getComputedStyle(e).position)return!0;e=e.namespaceURI===b?e.parentNode:e.offsetParent}return!1}function c(e,t,n,o,i,r,a,s,d){var l=e?"translate("+t+" "+n+") scale("+(1+d*r)+" "+(1+d*a)+") translate("+-t+" "+-n+") translate("+s*o+" "+s*i+")":"translate("+s*o+"px,"+s*i+"px) scale("+(1+d*r)+","+(1+d*a)+")";return l}function u(e,t,n,o,i){var r=1+i*n,a=1+i*o;return e.map(function(e,n){var o=t[n],s=(e+i*(o-e))/r,d=(e+i*(o-e))/a;return s+"px "+d+"px"})}function f(e,t){e.style.borderTopLeftRadius=t[0],e.style.borderTopRightRadius=t[1],e.style.borderBottomRightRadius=t[2],e.style.borderBottomLeftRadius=t[3]}function m(e){var t=document.createElement("style");t.type="text/css";var n=document.getElementsByTagName("head")[0],o=t.styleSheet;return o?o.cssText=e:t.innerHTML=e,n.appendChild(t),function(){return n.removeChild(t)}}function p(t,n,o){function i(e,o,i){var r=t.cx+a*o,p=t.cy+s*o,y=u(t.borderRadius,n.borderRadius,d,l,o),h=u(n.borderRadius,t.borderRadius,f,m,1-o),b=c(!1,r,p,a,s,d,l,o,i)+" "+t.transform,w=c(!1,r,p,-a,-s,f,m,1-o,1-i)+" "+n.transform;v.push("\n			"+e+"% {\n				opacity: "+(1-o)+";\n				border-top-left-radius: "+y[0]+";\n				border-top-right-radius: "+y[1]+";\n				border-bottom-right-radius: "+y[2]+";\n				border-bottom-left-radius: "+y[3]+";\n				"+A+": "+b+";\n			}"),g.push("\n			"+e+"% {\n				opacity: "+o+";\n				border-top-left-radius: "+h[0]+";\n				border-top-right-radius: "+h[1]+";\n				border-bottom-right-radius: "+h[2]+";\n				border-bottom-left-radius: "+h[3]+";\n				"+A+": "+w+";\n			}")}var r,a=n.cx-t.cx,s=n.cy-t.cy,d=n.width/t.width-1,l=n.height/t.height-1,f=t.width/n.width-1,m=t.height/n.height-1,p=o.easing||e,y=o.easingScale||p,h=o.duration/50,v=[],g=[];for(r=0;h>r;r+=1){var b=100*(r/h),w=p(r/h),C=y(r/h);i(b,w,C)}return i(100,1,1),v=v.join("\n"),g=g.join("\n"),{fromKeyframes:v,toKeyframes:g}}var y={};y.classCallCheck=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")};var h=["length","parentRule"],v=void 0;v="undefined"!=typeof CSS2Properties?Object.keys(CSS2Properties.prototype):Object.keys(document.createElement("div").style).filter(function(e){return!~h.indexOf(e)});var g=v,b="http://www.w3.org/2000/svg",w=void 0;try{w=document.createElementNS(b,"svg"),w.style.position="fixed",w.style.top=w.style.left="0",w.style.width=w.style.height="100%",w.style.overflow="visible",w.style.pointerEvents="none",w.setAttribute("class","mogrify-svg")}catch(C){console.log("The current browser doesn't support SVG")}var T=!1,R=window.requestAnimationFrame||window.webkitRequestAnimationFrame||function(e){return setTimeout(e,16)},x=function D(t,n,o){function i(){var e=Date.now(),y=e-p;if(y>h)return t.clone.parentNode.removeChild(t.clone),n.clone.parentNode.removeChild(n.clone),void(o.done&&o.done());var b=v(y/h),w=g(y/h);t.clone.style.opacity=1-b,n.clone.style.opacity=b;var C=u(t.borderRadius,n.borderRadius,s,d,b),T=u(n.borderRadius,t.borderRadius,l,m,1-b);f(t.clone,C),f(n.clone,T);var x=t.cx+r*b,S=t.cy+a*b,k=c(t.isSvg,x,S,r,a,s,d,b,w)+" "+t.transform,A=c(n.isSvg,x,S,-r,-a,l,m,1-b,1-w)+" "+n.transform;t.isSvg?t.clone.setAttribute("transform",k):t.clone.style.transform=t.clone.style.webkitTransform=t.clone.style.msTransform=k,n.isSvg?n.clone.setAttribute("transform",A):n.clone.style.transform=n.clone.style.webkitTransform=n.clone.style.msTransform=A,R(i)}y.classCallCheck(this,D);var r=n.cx-t.cx,a=n.cy-t.cy,s=n.width/t.width-1,d=n.height/t.height-1,l=t.width/n.width-1,m=t.height/n.height-1,p=Date.now(),h=o.duration||400,v=o.easing||e,g=o.easingScale||v;i()},S=document.createElement("div"),k=!0,A=void 0,E=void 0,I=void 0,_=void 0,N=void 0,j=void 0,L=void 0,O=void 0,B=!window.ActiveXObject&&"ActiveXObject"in window;!B&&("transform"in S.style||"webkitTransform"in S.style)&&("animation"in S.style||"webkitAnimation"in S.style)?(k=!0,A="transform"in S.style?"transform":"-webkit-transform","animation"in S.style?(E="@keyframes",I="animationDirection",_="animationDuration",N="animationIterationCount",j="animationName",L="animationTimingFunction",O="animationend"):(E="@-webkit-keyframes",I="webkitAnimationDirection",_="webkitAnimationDuration",N="webkitAnimationIterationCount",j="webkitAnimationName",L="webkitAnimationTimingFunction",O="webkitAnimationEnd")):k=!1;var F=function K(e,t,n){function o(){u&&f&&(e.clone.parentNode.removeChild(e.clone),t.clone.parentNode.removeChild(t.clone),n.done&&n.done(),c())}y.classCallCheck(this,K);var i=p(e,t,n),r=i.fromKeyframes,a=i.toKeyframes,s="_"+~~(1e6*Math.random()),d="_"+~~(1e6*Math.random()),l=E+" "+s+" { "+r+" } "+E+" "+d+" { "+a+" }",c=m(l);e.clone.style[I]="alternate",e.clone.style[_]=n.duration/1e3+"s",e.clone.style[N]=1,e.clone.style[j]=s,e.clone.style[L]="linear",t.clone.style[I]="alternate",t.clone.style[_]=n.duration/1e3+"s",t.clone.style[N]=1,t.clone.style[j]=d,t.clone.style[L]="linear";var u=void 0,f=void 0;e.clone.addEventListener(O,function(){u=!0,o()}),t.clone.addEventListener(O,function(){f=!0,o()})},M={transform:function(e,t){var n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];"function"==typeof n&&(n={done:n}),"duration"in n||(n.duration=400);var o=!!n.appendToBody,r=l(t),s=a(e,r,n.overrideClone,o),d=a(t,r,n.overrideClone,o);return(s.isSvg||d.isSvg&&!T)&&i(),!k||n.useTimer||s.isSvg||d.isSvg?new x(s,d,n):new F(s,d,n)},hide:function(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];t.forEach(s)},show:function(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];t.forEach(d)},linear:e,easeIn:t,easeOut:n,easeInOut:o};return M});
